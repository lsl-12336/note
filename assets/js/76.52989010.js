"use strict";(self.webpackChunklu_knowledge=self.webpackChunklu_knowledge||[]).push([[76],{76:(t,e,a)=>{a.d(e,{diagram:()=>z});var r=a(2641),n=a(737),i=(a(5437),a(7204),a(3039),a(257),a(9034)),l=a(1888),s=(a(632),a(4378)),o=(a(8564),a(9823),a(6317),a(6735),a(2890),a(7170),a(9400)),c={showLegend:!0,ticks:5,max:null,min:0,graticule:"circle"},d={axes:[],curves:[],options:c},g=structuredClone(d),u=s.s.radar,h=(0,o.a)((()=>(0,l.l)({...u,...(0,s.A)().radar})),"getConfig"),p=(0,o.a)((()=>g.axes),"getAxes"),x=(0,o.a)((()=>g.curves),"getCurves"),m=(0,o.a)((()=>g.options),"getOptions"),$=(0,o.a)((t=>{g.axes=t.map((t=>({name:t.name,label:t.label??t.name})))}),"setAxes"),f=(0,o.a)((t=>{g.curves=t.map((t=>({name:t.name,label:t.label??t.name,entries:y(t.entries)})))}),"setCurves"),y=(0,o.a)((t=>{if(null==t[0].axis)return t.map((t=>t.value));let e=p();if(0===e.length)throw new Error("Axes must be populated before curves for reference entries");return e.map((e=>{let a=t.find((t=>t.axis?.$refText===e.name));if(void 0===a)throw new Error("Missing entry for axis "+e.label);return a.value}))}),"computeCurveEntries"),v=(0,o.a)((t=>{let e=t.reduce(((t,e)=>(t[e.name]=e,t)),{});g.options={showLegend:e.showLegend?.value??c.showLegend,ticks:e.ticks?.value??c.ticks,max:e.max?.value??c.max,min:e.min?.value??c.min,graticule:e.graticule?.value??c.graticule}}),"setOptions"),w=(0,o.a)((()=>{(0,s.P)(),g=structuredClone(d)}),"clear"),b={getAxes:p,getCurves:x,getOptions:m,setAxes:$,setCurves:f,setOptions:v,getConfig:h,clear:w,setAccTitle:s.Q,getAccTitle:s.R,setDiagramTitle:s.U,getDiagramTitle:s.V,getAccDescription:s.T,setAccDescription:s.S},C=(0,o.a)((t=>{(0,r.a)(t,b);let{axes:e,curves:a,options:n}=t;b.setAxes(e),b.setCurves(a),b.setOptions(n)}),"populate"),M={parse:(0,o.a)((async t=>{let e=await(0,n.a)("radar",t);s.b.debug(e),C(e)}),"parse")},T=(0,o.a)(((t,e,a,r)=>{let n=r.db,l=n.getAxes(),s=n.getCurves(),o=n.getOptions(),c=n.getConfig(),d=n.getDiagramTitle(),g=(0,i.a)(e),u=k(g,c),h=o.max??Math.max(...s.map((t=>Math.max(...t.entries)))),p=o.min,x=Math.min(c.width,c.height)/2;L(u,l,x,o.ticks,o.graticule),A(u,l,x,c),O(u,l,s,p,h,o.graticule,c),I(u,s,o.showLegend,c),u.append("text").attr("class","radarTitle").text(d).attr("x",0).attr("y",-c.height/2-c.marginTop)}),"draw"),k=(0,o.a)(((t,e)=>{let a=e.width+e.marginLeft+e.marginRight,r=e.height+e.marginTop+e.marginBottom,n=e.marginLeft+e.width/2,i=e.marginTop+e.height/2;return t.attr("viewbox",`0 0 ${a} ${r}`).attr("width",a).attr("height",r),t.append("g").attr("transform",`translate(${n}, ${i})`)}),"drawFrame"),L=(0,o.a)(((t,e,a,r,n)=>{if("circle"===n)for(let e=0;e<r;e++){let n=a*(e+1)/r;t.append("circle").attr("r",n).attr("class","radarGraticule")}else if("polygon"===n){let n=e.length;for(let i=0;i<r;i++){let l=a*(i+1)/r,s=e.map(((t,e)=>{let a=2*e*Math.PI/n-Math.PI/2;return`${l*Math.cos(a)},${l*Math.sin(a)}`})).join(" ");t.append("polygon").attr("points",s).attr("class","radarGraticule")}}}),"drawGraticule"),A=(0,o.a)(((t,e,a,r)=>{let n=e.length;for(let i=0;i<n;i++){let l=e[i].label,s=2*i*Math.PI/n-Math.PI/2;t.append("line").attr("x1",0).attr("y1",0).attr("x2",a*r.axisScaleFactor*Math.cos(s)).attr("y2",a*r.axisScaleFactor*Math.sin(s)).attr("class","radarAxisLine"),t.append("text").text(l).attr("x",a*r.axisLabelFactor*Math.cos(s)).attr("y",a*r.axisLabelFactor*Math.sin(s)).attr("class","radarAxisLabel")}}),"drawAxes");function O(t,e,a,r,n,i,l){let s=e.length,o=Math.min(l.width,l.height)/2;a.forEach(((e,a)=>{if(e.entries.length!==s)return;let c=e.entries.map(((t,e)=>{let a=2*Math.PI*e/s-Math.PI/2,i=S(t,r,n,o);return{x:i*Math.cos(a),y:i*Math.sin(a)}}));"circle"===i?t.append("path").attr("d",D(c,l.curveTension)).attr("class",`radarCurve-${a}`):"polygon"===i&&t.append("polygon").attr("points",c.map((t=>`${t.x},${t.y}`)).join(" ")).attr("class",`radarCurve-${a}`)}))}function S(t,e,a,r){return r*(Math.min(Math.max(t,e),a)-e)/(a-e)}function D(t,e){let a=t.length,r=`M${t[0].x},${t[0].y}`;for(let n=0;n<a;n++){let i=t[(n-1+a)%a],l=t[n],s=t[(n+1)%a],o=t[(n+2)%a],c={x:l.x+(s.x-i.x)*e,y:l.y+(s.y-i.y)*e},d={x:s.x-(o.x-l.x)*e,y:s.y-(o.y-l.y)*e};r+=` C${c.x},${c.y} ${d.x},${d.y} ${s.x},${s.y}`}return`${r} Z`}function I(t,e,a,r){if(!a)return;let n=3*(r.width/2+r.marginRight)/4,i=3*-(r.height/2+r.marginTop)/4;e.forEach(((e,a)=>{let r=t.append("g").attr("transform",`translate(${n}, ${i+20*a})`);r.append("rect").attr("width",12).attr("height",12).attr("class",`radarLegendBox-${a}`),r.append("text").attr("x",16).attr("y",0).attr("class","radarLegendText").text(e.label)}))}(0,o.a)(O,"drawCurves"),(0,o.a)(S,"relativeRadius"),(0,o.a)(D,"closedRoundCurve"),(0,o.a)(I,"drawLegend");var E={draw:T},F=(0,o.a)(((t,e)=>{let a="";for(let r=0;r<t.THEME_COLOR_LIMIT;r++){let n=t[`cScale${r}`];a+=`\n\t\t.radarCurve-${r} {\n\t\t\tcolor: ${n};\n\t\t\tfill: ${n};\n\t\t\tfill-opacity: ${e.curveOpacity};\n\t\t\tstroke: ${n};\n\t\t\tstroke-width: ${e.curveStrokeWidth};\n\t\t}\n\t\t.radarLegendBox-${r} {\n\t\t\tfill: ${n};\n\t\t\tfill-opacity: ${e.curveOpacity};\n\t\t\tstroke: ${n};\n\t\t}\n\t\t`}return a}),"genIndexStyles"),P=(0,o.a)((t=>{let e=(0,s.q)(),a=(0,s.A)(),r=(0,l.l)(e,a.themeVariables);return{themeVariables:r,radarOptions:(0,l.l)(r.radar,t)}}),"buildRadarStyleOptions"),R=(0,o.a)((({radar:t}={})=>{let{themeVariables:e,radarOptions:a}=P(t);return`\n\t.radarTitle {\n\t\tfont-size: ${e.fontSize};\n\t\tcolor: ${e.titleColor};\n\t\tdominant-baseline: hanging;\n\t\ttext-anchor: middle;\n\t}\n\t.radarAxisLine {\n\t\tstroke: ${a.axisColor};\n\t\tstroke-width: ${a.axisStrokeWidth};\n\t}\n\t.radarAxisLabel {\n\t\tdominant-baseline: middle;\n\t\ttext-anchor: middle;\n\t\tfont-size: ${a.axisLabelFontSize}px;\n\t\tcolor: ${a.axisColor};\n\t}\n\t.radarGraticule {\n\t\tfill: ${a.graticuleColor};\n\t\tfill-opacity: ${a.graticuleOpacity};\n\t\tstroke: ${a.graticuleColor};\n\t\tstroke-width: ${a.graticuleStrokeWidth};\n\t}\n\t.radarLegendText {\n\t\ttext-anchor: start;\n\t\tfont-size: ${a.legendFontSize}px;\n\t\tdominant-baseline: hanging;\n\t}\n\t${F(e,a)}\n\t`}),"styles"),z={parser:M,db:b,renderer:E,styles:R}},2641:(t,e,a)=>{function r(t,e){t.accDescr&&e.setAccDescription?.(t.accDescr),t.accTitle&&e.setAccTitle?.(t.accTitle),t.title&&e.setDiagramTitle?.(t.title)}a.d(e,{a:()=>r}),(0,a(9400).a)(r,"populateCommonDb")}}]);